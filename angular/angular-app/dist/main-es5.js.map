{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.html","webpack:///src/app/cart/cart.component.html","webpack:///src/app/product-details/product-details.component.html","webpack:///src/app/product-list/product-list.component.html","webpack:///src/app/top-bar/top-bar.component.html","webpack:///src/app/app.component.css","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/cart/cart.component.css","webpack:///src/app/cart/cart.component.ts","webpack:///src/app/data.service.ts","webpack:///src/app/product-details/product-details.component.css","webpack:///src/app/product-details/product-details.component.ts","webpack:///src/app/product-list/product-list.component.css","webpack:///src/app/product-list/product-list.component.ts","webpack:///src/app/store/book.actions.ts","webpack:///src/app/store/book.reducer.ts","webpack:///src/app/store/book.state.ts","webpack:///src/app/top-bar/top-bar.component.css","webpack:///src/app/top-bar/top-bar.component.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AppComponent","selector","template","AppModule","imports","forRoot","BookList","path","component","declarations","bootstrap","CartComponent","dataService","cart","cartCount","loadData","book","addToCart","removeFromCart","getCart","getCartCount","DataService","httpClient","store","REST_API_SERVER","completed","bookState$","pipe","books","console","log","bookSubscription","x","subscribe","length","get","data","i","createBookAction","type","payload","productName","authour","category","price","quantity","rating","dispatch","storedCartJson","localStorage","getItem","storedCart","JSON","parse","Array","storedBook","find","b","push","setItem","stringify","index","findIndex","splice","count","providedIn","ProductDetailsComponent","route","selectedBook","params","selectedBookId","bookList","ProductListComponent","saveBooksToStore","GET_BOOK","ADD_BOOK","GetBook","AddBook","initialState","BookReducer","state","action","Loaded","Loading","concat","initializeState","TopBarComponent","environment","production","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","export default \"<app-top-bar></app-top-bar>\\r\\n\\r\\n<div class=\\\"container\\\">\\r\\n  <router-outlet></router-outlet>\\r\\n</div>\";","export default \"<h1>Varukorg</h1>\\n<div *ngFor=\\\"let book of cart\\\">\\n  <h3>\\n    <a [title]=\\\"book.productName + ' details'\\\" [routerLink]=\\\"['/book', book.productName]\\\">\\n      {{ book.productName }}\\n    </a>\\n  </h3>\\n\\n  <p>\\n    Författare: {{ book.authour }}\\n    <br>\\n    Kategori: {{ book.category }}\\n    <br>\\n    Antal: {{ book.quantity }}\\n  </p>\\n\\n  <button (click)=\\\"addToCart(book)\\\">\\n    Öka antal\\n  </button>\\n  <button (click)=\\\"removeFromCart(book)\\\">\\n    Minska antal\\n  </button>\\n</div>\\n<h3>Antal varor i varukorgen: {{ cartCount }}</h3>\";","export default \"<h1>{{selectedBook.productName}}</h1>\\n<p>Författare: {{selectedBook.authour}}</p>\\n<p>Boktyp: {{selectedBook.category}}</p>\\n<p>Pris: {{selectedBook.price}}</p>\\n<p>Betyg: {{selectedBook.rating}}</p>\";","export default \"<h2>Böcker</h2>\\r\\n<div *ngFor=\\\"let book of bookList.BookList\\\">\\r\\n  <h3>\\r\\n    <a [title]=\\\"book.productName + ' details'\\\" [routerLink]=\\\"['/book', book.productName]\\\">\\r\\n      {{ book.productName }}\\r\\n    </a>\\r\\n  </h3>\\r\\n\\r\\n  <p>\\r\\n    Författare: {{ book.authour }}\\r\\n    <br>\\r\\n    Kategori: {{ book.category }}\\r\\n  </p>\\r\\n\\r\\n  <button (click)=\\\"addToCart(book)\\\">\\r\\n    Lägg till\\r\\n  </button>\\r\\n</div>\";","export default \"<a [routerLink]=\\\"['/']\\\">\\r\\n  <h1>Lilla bokhandeln</h1>\\r\\n</a>\\r\\n\\r\\n<a class=\\\"button fancy-button\\\" [routerLink]=\\\"['/cart']\\\"><i class=\\\"material-icons\\\">shopping_cart</i>Checkout</a>\";","export default \"p {\\r\\n  font-family: Lato;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBaUI7QUFDbkIiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInAge1xyXG4gIGZvbnQtZmFtaWx5OiBMYXRvO1xyXG59Il19 */\";","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: [ './app.component.css' ]\r\n})\r\nexport class AppComponent  {}","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { StoreModule } from '@ngrx/store'; \r\nimport { AppComponent } from './app.component';\r\nimport { TopBarComponent } from './top-bar/top-bar.component';\r\nimport { ProductListComponent } from './product-list/product-list.component';\r\nimport { ProductDetailsComponent } from './product-details/product-details.component';\r\nimport { CartComponent } from './cart/cart.component';\r\nimport { BookReducer } from './store/book.reducer';\r\n\r\n@NgModule({\r\n  imports: [\r\n    StoreModule.forRoot({ BookList: BookReducer }),\r\n    BrowserModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    RouterModule.forRoot([\r\n      { path: '', component: ProductListComponent },\r\n      { path: 'book/:bookId', component: ProductDetailsComponent },\r\n      { path: 'cart', component: CartComponent },\r\n    ])\r\n  ],\r\n  declarations: [\r\n    AppComponent,\r\n    TopBarComponent,\r\n    ProductListComponent,\r\n    ProductDetailsComponent,\r\n    CartComponent\r\n  ],\r\n  bootstrap: [ AppComponent ]\r\n})\r\nexport class AppModule { }","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NhcnQvY2FydC5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../data.service';\nimport Book from '../core/model/book'\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n  cart = [];\n  cartCount = 0;\n\n  constructor(private dataService: DataService) { }\n\n  ngOnInit() {\n    this.loadData();\n  }\n\n  addToCart(book: Book) {\n    this.dataService.addToCart(book);\n    this.loadData();\n  }\n\n  removeFromCart(book: Book) {\n    this.dataService.removeFromCart(book);\n    this.loadData();\n  }\n\n  loadData() {\n    this.cart = this.dataService.getCart();\n    this.cartCount = this.dataService.getCartCount();\n  }\n}\n","import { Injectable, Component, OnDestroy, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport Book from '../app/core/model/book';\n\nimport { Observable, Subscription } from 'rxjs';\nimport { BookState } from './store/book.state';\nimport ActionWithPayload from '../app/ActionWithPayload';\nimport { map } from 'rxjs/operators';\nimport { Store, select, Action } from '@ngrx/store';\nimport { ADD_BOOK, GET_BOOK } from '../app/store/book.actions';\nimport { BookReducer } from '../app/store/book.reducer';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n  private REST_API_SERVER = \"http://localhost:5000/books\";\n\n  bookSubscription: Subscription;\n  bookState$: Observable<Book[]>;\n  completed: boolean = false;\n  bookList: Book[];\n\n  selected: Book;\n  storedCart: Book[];\n\n  constructor(private httpClient: HttpClient, private store: Store<BookState>) { }\n\n  ngOnInit() { }\n\n  public saveBooksToStore() {\n    this.bookState$ = this.store.pipe(select('BookList'));\n\n    var books: any;\n    console.log(\"Books: \" + books)\n    this.bookSubscription = this.bookState$.pipe(map(x => books = x)).subscribe();\n    if (books.BookList.length > 0) {\n      return;\n    }\n\n    this.httpClient\n      .get<Book[]>(this.REST_API_SERVER)\n      .subscribe((data: Book[]) => {\n        for (let i in data) {\n          let createBookAction: ActionWithPayload<Book> = {\n            type: ADD_BOOK,\n            payload: {\n              productName: data[i].productName,\n              authour: data[i].authour,\n              category: data[i].category,\n              id: data[i].id,\n              price: data[i].price,\n              quantity: data[i].quantity,\n              rating: data[i].rating\n            }\n          };\n          \n          this.store.dispatch(createBookAction);\n        }\n      });\n  }\n\n  addToCart(book: Book) {\n    let storedCartJson: string = localStorage.getItem(\"cart\");\n    this.storedCart = JSON.parse(storedCartJson);\n\n    if (this.storedCart == null) {\n      this.storedCart = new Array() as Array<Book>;\n    }\n\n    let storedBook = this.storedCart.find(b => b.productName == book.productName);\n\n    if (storedBook == null) {\n      book.quantity++;\n      this.storedCart.push(book);\n    }\n    else {\n      for (let i in this.storedCart) {\n        if (this.storedCart[i].productName == book.productName) {\n          this.storedCart[i].quantity++;\n        }\n      }\n    }\n\n    localStorage.setItem(\"cart\", JSON.stringify(this.storedCart));\n  }\n\n  removeFromCart(book: Book) {\n\n    let storedCartJson: string = localStorage.getItem(\"cart\");\n    this.storedCart = JSON.parse(storedCartJson);\n\n    if (this.storedCart == null) {\n      return;\n    }\n\n    let storedBook = this.storedCart.find(b => b.productName == book.productName);\n\n    if (storedBook == null) {\n      return;\n    }\n    else {\n      for (let i in this.storedCart) {\n        if (this.storedCart[i].productName == storedBook.productName) {\n          let quantity = this.storedCart[i].quantity;\n          quantity--;\n\n          if (quantity <= 0) {\n            let index = this.storedCart.findIndex(b => b.productName == storedBook.productName);\n            this.storedCart.splice(index, 1);\n          }\n          else {\n            this.storedCart[i].quantity = quantity;\n          }\n        }\n      }\n    }\n\n    localStorage.setItem(\"cart\", JSON.stringify(this.storedCart));\n  }\n\n  getCart() {\n    let storedCartJson: string = localStorage.getItem(\"cart\");\n    this.storedCart = JSON.parse(storedCartJson);\n\n    if (this.storedCart == null) {\n      this.storedCart = new Array() as Array<Book>;\n    }\n\n    return this.storedCart;\n  }\n\n  getCartCount(): number {\n    let count = 0;\n    let cart = this.getCart();\n    for (let i in cart) {\n      count += cart[i].quantity;\n    }\n    return count;\n  }\n\n  getBookFromCart(productName: string): Book {\n    let storedCartJson: string = localStorage.getItem(\"cart\");\n    this.storedCart = JSON.parse(storedCartJson);\n\n    if (this.storedCart == null) {\n      return null;\n    }\n\n    for (let i in this.storedCart)\n      if (this.storedCart[i].productName == productName) {\n        return this.storedCart[i]\n      }\n\n    return null;\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1Y3QtZGV0YWlscy9wcm9kdWN0LWRldGFpbHMuY29tcG9uZW50LmNzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { DataService } from '../data.service';\nimport Book from '../core/model/book'\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable, Subscription } from 'rxjs';\nimport { BookState } from '../store/book.state';\nimport { map } from 'rxjs/operators';\nimport { Store, select, Action } from '@ngrx/store';\n\n@Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.css']\n})\nexport class ProductDetailsComponent implements OnInit {\n  selectedBookId: string;\n  selectedBook: Book;\n  bookSubscription: Subscription;\n  bookState$: Observable<Book[]>;\n  completed: boolean = false;\n  bookList: any;\n\n  constructor(private dataService: DataService, private route: ActivatedRoute, private store: Store<BookState>) {\n    this.selectedBook = { productName: \"\", id: 0, authour: \"\", category: \"\", price: 0, quantity: 0, rating: 0 };\n  }\n\n  ngOnInit(): void {\n    this.route.params.subscribe(params => {\n      this.selectedBookId = params['bookId'];\n    });\n\n    this.bookState$ = this.store.pipe(select('BookList'));\n    this.bookSubscription = this.bookState$.pipe(map(x => this.bookList = x)).subscribe();\n\n    for (let i in this.bookList.BookList) {\n      if (this.bookList.BookList[i].productName == this.selectedBookId) {\n        this.selectedBook = this.bookList.BookList[i] as Book;\n      }\n    }\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1Y3QtbGlzdC9wcm9kdWN0LWxpc3QuY29tcG9uZW50LmNzcyJ9 */\";","import { Component } from '@angular/core';\r\nimport Book from \"../core/model/book\";\r\nimport { DataService } from '../data.service';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { BookState } from '../store/book.state';\r\nimport { map } from 'rxjs/operators';\r\nimport { Store, select, Action } from '@ngrx/store';\r\n\r\n@Component({\r\n  selector: 'app-product-list',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.css']\r\n})\r\n\r\nexport class ProductListComponent {\r\n  bookSubscription: Subscription;\r\n  bookState$: Observable<Book[]>;\r\n  completed: boolean = false;\r\n  bookList: Book[];\r\n  constructor(private dataService: DataService, private store: Store<BookState>) { }\r\n\r\n  addToCart(book: Book) {\r\n    this.dataService.addToCart(book);\r\n  }\r\n \r\n  ngOnInit() {  \r\n    this.dataService.saveBooksToStore(); \r\n    this.bookState$ = this.store.pipe(select('BookList'));\r\n    this.bookSubscription = this.bookState$.pipe(map(x => this.bookList = x)).subscribe();\r\n  }\r\n}","import { Action } from \"@ngrx/store\";\r\nimport ActionWithPayload from \"../ActionWithPayload\";\r\nimport Book from \"../core/model/book\";\r\n\r\nexport const GET_BOOK = '[Book] GET_BOOK';\r\nexport const ADD_BOOK = '[Book] ADD_BOOK';\r\n\r\nexport class GetBook implements Action {\r\n    readonly type = GET_BOOK;\r\n\r\n    constructor() { }\r\n}\r\n\r\nexport class AddBook implements ActionWithPayload<Book> {\r\n    readonly type = ADD_BOOK;\r\n    payload: Book;\r\n\r\n    constructor(payload: Book) {\r\n        this.payload = payload;\r\n    }\r\n}\r\n\r\nexport type All = GetBook | AddBook ;","import ActionWithPayload from \"../ActionWithPayload\";\r\nimport Book from \"../core/model/book\";\r\nimport { BookState, initializeState } from \"./book.state\";\r\nimport * as BookActions from \"./book.actions\";\r\nimport { Action } from \"@ngrx/store\";\r\n\r\nconst initialState = initializeState();\r\n\r\nexport function BookReducer(state: BookState = initialState,\r\n    action: Action) {\r\n\r\n    switch (action.type) {\r\n        case BookActions.GET_BOOK:            \r\n            return { ...state, Loaded: false, Loading: true };\r\n\r\n        case BookActions.ADD_BOOK:\r\n            return ({\r\n                ...state,\r\n                BookList: state.BookList.concat((action as ActionWithPayload<Book[]>).payload),\r\n                Loaded: false, Loading: true\r\n            });\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import Book from \"../core/model/book\";\r\n\r\nexport interface BookState {\r\n    Loading: boolean;\r\n    Loaded: boolean;\r\n    BookList: Book[];\r\n}\r\n\r\nexport const initializeState = (): BookState => {\r\n    return ({\r\n        BookList: [],\r\n        Loading: false,\r\n        Loaded: true\r\n    });\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RvcC1iYXIvdG9wLWJhci5jb21wb25lbnQuY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-top-bar',\r\n  templateUrl: './top-bar.component.html',\r\n  styleUrls: ['./top-bar.component.css']\r\n})\r\nexport class TopBarComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { environment } from './environments/environment';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);"]}